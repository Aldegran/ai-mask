# Настройка голосов для Piper TTS

## Где брать голоса
Мы используем систему [Piper TTS](https://github.com/rhasspy/piper).
Коллекция голосов находится здесь: [Hugging Face - rhasspy/piper-voices](https://huggingface.co/rhasspy/piper-voices).

Для украинского языка (`uk_UA`) доступны:
- **lada** (женский, качественный)
- **ukrainian_tts** (разные варианты)

## Как установить новый голос
1. Перейдите по ссылке выше и найдите нужный язык (`uk_UA`).
2. Скачайте два файла для выбранного голоса (Quality: Medium или Low):
   - `имя_голоса.onnx`
   - `имя_голоса.onnx.json`
3. Скопируйте эти файлы в папку `piper/` в корне проекта.
4. В файле `src/index.ts` в функции `speak` измените переменную `modelPath`:

   ```typescript
   const modelPath = path.join(piperDir, 'ваш_новый_файл.onnx');
   ```

## Настройки (Скорость и интонация)
Piper позволяет настраивать параметры через аргументы командной строки. Сейчас они задаются в функции `speak` (`src/index.ts`) в массиве аргументов для `spawn`.

### Доступные параметры:

*   **`--length_scale` (Скорость)**
    *   По умолчанию: `1.0`
    *   Значения **< 1.0** ускоряют речь (например, `0.75`).
    *   Значения **> 1.0** замедляют речь (например, `1.25`).

*   **`--noise_scale` (Вариативность)**
    *   По умолчанию: `0.667`
    *   Влияет на случайный шум при генерации, что меняет интонацию.

*   **`--noise_w`**
    *   По умолчанию: `0.8`
    *   Влияет на произношение фонем.

*   **`--sentence_silence`**
    *   По умолчанию: `0.2`
    *   Пауза (в секундах) между предложениями.

### Пример изменения скорости:
В `src/index.ts`:
```typescript
const piper = spawn(piperExe, [
    '--model', modelPath,
    '--output_file', outputWav,
    '--length_scale', '0.8' // Говорить быстрее
]);
```
